<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="images/cards_9538314.png">
    <title>Cramio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="navdiv">
                <div id="logolink" class="logo"><a href="#">Cramio</a></div>

                <div class="searchBar" id="searchSub">
                    <input type="search" id="searchKey" class="searchIpt" placeholder="Enter Subject" >
                    <button type="submit" id="searchKey" class="searchBtn" onclick="searchSubject()">
                        <svg viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0" transform="translate(0,0), scale(1)"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>   
                    </button>  
                </div>

                <ul class ="auth-links" id="nav-buttons">
                    <button id="createBtn" onclick="openFlashcardModal()">Create Flashcard</button>
                    <button id="logoutBtn" onclick="logout()">Logout</button>
                    
                    <button id="small-createBtn" onclick="openFlashcardModal()">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M6 12H18M12 6V18" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                    </button>

                    <button id="small-logoutBtn" onclick="logout()">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M2 6.5C2 4.01472 4.01472 2 6.5 2H12C14.2091 2 16 3.79086 16 6V7C16 7.55228 15.5523 8 15 8C14.4477 8 14 7.55228 14 7V6C14 4.89543 13.1046 4 12 4H6.5C5.11929 4 4 5.11929 4 6.5V17.5C4 18.8807 5.11929 20 6.5 20H12C13.1046 20 14 19.1046 14 18V17C14 16.4477 14.4477 16 15 16C15.5523 16 16 16.4477 16 17V18C16 20.2091 14.2091 22 12 22H6.5C4.01472 22 2 19.9853 2 17.5V6.5ZM18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L19.7071 15.7071C19.3166 16.0976 18.6834 16.0976 18.2929 15.7071C17.9024 15.3166 17.9024 14.6834 18.2929 14.2929L19.5858 13L11 13C10.4477 13 10 12.5523 10 12C10 11.4477 10.4477 11 11 11L19.5858 11L18.2929 9.70711C17.9024 9.31658 17.9024 8.68342 18.2929 8.29289Z" fill="#000000"></path> </g></svg>
                    </button>
                </ul>

            </div>    
        </nav>
    </header>

    <div class="main">
        <section id="homepage" class="homepage">
            <div class="home-data">
                <h1>Welcome to Cramio</h1>
                <p>Your personalized flashcard tool for smart studying.</p>
                <div class="home-buttons">
                    <button onclick="showModal('signupModal')">Get Started</button>
                    <button onclick="showModal('loginModal')">Login</button>
                </div>
            </div>
        </section>    

            <!-- Signup Modal -->
        <div id="signupModal" class="auth-modal">
            <div class="modal-content">
                <h2>Sign Up</h2>
                <input type="email" id="signupEmail" placeholder="Email">

                <div class="password-input">
                    <input type="password" id="signupPassword" placeholder="Password">
                    <button id="showSignupPasswordBtn" onclick="togglePasswordVisibility()">Show</button>
                </div>

                <div class="acc-buttons">
                    <button onclick="signup()">Create Account</button>
                    <button onclick="closeModal('signupModal')">Cancel</button>
                </div>               
            </div>
        </div>
        
        <!-- Login Modal -->
        <div id="loginModal" class="auth-modal">
            <div class="modal-content">
                <h2>Login</h2>
                <input type="email" id="loginEmail" placeholder="Email">

                <div class="password-input">
                    <input type="password" id="loginPassword" placeholder="Password">
                    <button id="showLoginPasswordBtn" onclick="togglePasswordVisibility()">Show</button>
                </div>
                
                <div class="acc-buttons">
                    <button onclick="login()">Login</button>
                    <button onclick="closeModal('loginModal')">Cancel</button>
                </div>
            </div>
        </div>

        
        <div id="userDashboard" style="display: none;">
            <h2 id="welcomeMessage" class="dashboard-title"></h2>
            <div id="subjectsContainer" class="subjects-grid"></div>
        </div>

        <div id="flashcardModal" class="auth-modal">
            <div class="modal-content">
                <h2>Create Flashcard</h2>
                <input type="text" id="subjectInput" placeholder="Subject">
                <input type="text" id="questionInput" placeholder="Question">
                <input type="text" id="answerInput" placeholder="Answer">
                <div class="acc-buttons">
                    <button id="addFlashcardButton" onclick="addFlashcard()">Add Flashcard</button>
                    <button onclick="closeModal('flashcardModal')">Cancel</button>
                </div>
            </div>
        </div>

        <div id="flashcardsView" style="display: none;">
            <div class="flashcards-header">
                <h2 id="currentSubjectTitle">Flashcards</h2>
                <button id="studyBtn" class="study-button">Start Studying</button>
                <button id="backToSubjects" class="back-button">← Back to Subjects</button>
            </div>
            <div id="flashcardsGallery" class="flashcards-gallery"></div>
        </div>

        <div id="confirmModal" class="auth-modal">
            <div class="modal-content">
                <h2 id="confirmModalTitle">Confirm Action</h2>
                <p id="confirmModalMessage">Are you sure you want to proceed?</p>
                <div class="modal-buttons">
                    <button id="confirmModalYes" class="confirm-btn">Yes</button>
                    <button id="confirmModalNo" class="cancel-btn">No</button>
                </div>
            </div>
        </div>

       <!-- Study Mode -->
        <div id="studyMode" class="study-container" style="display: none;">
            <div class="study-header">
                <h2>Studying: <span id="currentSubject" class="subject-title">Subject</span></h2>
                <div class="study-progress">
                    <span id="cardPosition" class="card-counter">1/10</span>
                    <span id="studyStats" class="stats-counter">✅ 0 ❌ 0</span>
                </div>
            </div>

            <div class="flashcard-container">
                <div class="flashcard" id="studyFlashcard">
                    <div class="flashcard-front" id="studyQuestion">
                        <h3>Question will appear here</h3>
                    </div>
                    <div class="flashcard-back" id="studyAnswer">
                        <h3>Answer will appear here</h3>
                    </div>
                </div>
            </div>

            <div class="answer-section">
                <input type="text" id="userAnswerInput" placeholder="Type your answer..." class="answer-input">
                <div class="answer-buttons">
                    <button id="checkAnswerBtn" class="check-button">Check Answer</button>
                </div>
                <div id="answerFeedback" class="feedback-message"></div>
            </div>

            <div class="navigation-buttons">
                <button id="prevCardBtn" class="large nav-button prev-button">← Previous</button>
                <button id="nextCardBtn" class="large nav-button next-button">Next →</button>
                <button id="endStudyBtn" class="large nav-button end-button">End Study Session</button>
                <div class="small-navBtns">
                    <button id="small-prevCardBtn" class="small nav-button prev-button">
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" stroke="#ffffff" stroke-width="15.36"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#ffffff" d="M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"></path><path fill="#ffffff" d="m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"></path></g></svg>
                    </button>
                    <button id="small-nextCardBtn" class="small nav-button next-button">
                        <svg fill="#ffffff" height="200px" width="200px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 511.996 511.996" xml:space="preserve" stroke="#ffffff" stroke-width="0.00511996"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="1.023992"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M508.245,246.953L363.435,102.133c-5.001-5.001-13.099-5.001-18.099,0c-5.001,5-5.001,13.099,0,18.099l122.965,122.965 H12.8c-7.074,0-12.8,5.726-12.8,12.8c0,7.074,5.726,12.8,12.8,12.8h455.492L345.327,391.763c-5.001,5-5.001,13.099,0,18.099 c5.009,5.001,13.099,5.001,18.108,0l144.811-144.811C513.246,260.051,513.246,251.953,508.245,246.953z"></path> </g> </g> </g></svg>
                    </button>
                    <button id="small-endStudyBtn" class="small nav-button end-button">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect x="2" y="7" width="20" height="10" rx="2" stroke="#ffffff" stroke-width="2"></rect> <path d="M6.9486 9.75479H5.30575C5.0296 9.75479 4.80575 9.97865 4.80575 10.2548V12.2548M6.9486 14.7548H5.30575C5.0296 14.7548 4.80575 14.5309 4.80575 14.2548V12.2548M4.80575 12.2548H6.9486M12.3057 9.75479L8.55575 14.7548M8.55575 9.75479L12.3057 14.7548M13.9129 9.75479V14.7548M15.52 9.75479H17.6629M19.8057 9.75479H17.6629M17.6629 9.75479V14.7548" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path> </g></svg>
                    </button>
                </div>
            </div>
        </div>

        <div id="editSubjectModal" class="auth-modal">
            <div class="modal-content">
                <h2>Edit Subject</h2>
                <input type="text" id="editSubjectInput" placeholder="Subject Name">
                <div class="modal-buttons">
                    <button class="confirm-btn" id="saveSubjectBtn">Save</button>
                    <button class="cancel-btn" onclick="closeModal('editSubjectModal')">Cancel</button>
                </div>
            </div>
        </div>

        <div id="editFlashcardModal" class="auth-modal">
            <div class="modal-content">
                <h2>Edit Flashcard</h2>
                <input type="text" id="editQuestionInput" placeholder="Question">
                <input type="text" id="editAnswerInput" placeholder="Answer">
                <div class="modal-buttons">
                    <button class="confirm-btn" id="saveEditBtn">Save</button>
                    <button class="cancel-btn" onclick="closeModal('editFlashcardModal')">Cancel</button>
                </div>
            </div>
        </div>

        <div id="popup" class="popup">Signup successful!</div>
        <div id="popup" class="popup">Login successful!</div>
        <div id="popup-error" class="popup-error">Signup error!</div>
        <div id="popup-error" class="popup-error">Invalid Login Information!</div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>